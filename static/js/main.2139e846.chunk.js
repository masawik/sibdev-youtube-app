(this["webpackJsonpsibdev-youtube-app"]=this["webpackJsonpsibdev-youtube-app"]||[]).push([[0],{105:function(e,t,n){e.exports={header:"Header_header__1105z",logo:"Header_logo__24EJi",menu:"Header_menu__1kOpx",logout:"Header_logout__34Qp3"}},106:function(e,t,n){e.exports={minified:"SearchPage_minified__1875q",titleBox:"SearchPage_titleBox__355xg",title:"SearchPage_title__1U_bS",controlBox:"SearchPage_controlBox__8WbWe"}},155:function(e,t,n){e.exports={popoverBox:"Search_popoverBox__1h7BF",popoverText:"Search_popoverText__YOxKd"}},1933:function(e,t,n){"use strict";n.r(t);n(221);var a=n(0),r=n(25),c=n.n(r),i=(n(226),n(227),n(38)),s=n(1935),o=n(1936),u=n(75),l=n(1944),j=n(7),d=n.n(j),b=n(105),O=n.n(b),f=n.p+"static/media/logo.380272e2.svg",h=n(30),m=n(51),p=n(22),v=n(39),x=n.n(v),_=n(58),g="USER_FETCHING_START",y="USER_FETCHING_FINISH",S="USER_SET_TOKEN",I=n(12),N=n(202),T=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},E=function(e,t){return Math.floor(e+Math.random()*(t+1-e))},k=n(129),w=n(40),F="TOKEN_BY_LOGIN",R="DB_FAVOURITES_LISTS",L={addUserToken:function(e,t){var n=Object(w.a)({},e,t),a=localStorage.getItem(F),r=a?Object(I.a)(Object(I.a)({},JSON.parse(a)),n):Object(I.a)({},n),c=JSON.stringify(r);localStorage.setItem(F,c)},getLoginByToken:function(e){var t=localStorage.getItem(F);if(!t)return!1;for(var n=JSON.parse(t),a=0,r=Object.entries(n);a<r.length;a++){var c=r[a];if(e===c[1])return c[0]}return!1},getFavouritesList:function(e){var t=localStorage.getItem(R);if(!t)return[];var n=JSON.parse(t);return n[e]?n[e]:[]},favouritesListUpdate:function(e,t){var n=localStorage.getItem(R),a={};n&&(a=Object(I.a)(Object(I.a)({},a),JSON.parse(n))),a=Object(I.a)(Object(I.a)({},a),{},Object(w.a)({},e,t)),localStorage.setItem(R,JSON.stringify(a))},favouritesListAddRecord:function(e,t){var n=L.getFavouritesList(e),a=[].concat(Object(k.a)(n),[t]);L.favouritesListUpdate(e,a)},favouritesListDeleteRecord:function(e,t){var n=L.getFavouritesList(e).filter((function(e){return e.id!==t}));L.favouritesListUpdate(e,n)},favouritesListEditRecord:function(e,t){var n=L.getFavouritesList(e).map((function(e){return e.id===t.id?t:e}));L.favouritesListUpdate(e,n)}},C=N;function A(e){return{success:!0,data:e}}function V(e,t){return{success:!1,message:t}}var B,M=E(0,0),U=function(e){var t=e.login,n=e.password;return new Promise((function(e){setTimeout((function(){if(!C[t])return e(V(B.userNotExist,"user not exist"));if(C[t]!==n)return e(V(B.wrongPassword,"wrong password"));var a=T();L.addUserToken(t,a),e(A(a))}),M)}))},q=function(e){return new Promise((function(t){var n=L.getLoginByToken(e);return t(n?A(L.getFavouritesList(n)):V(B.tokenInvalid,"token is invalid"))}))},H=function(e,t){return new Promise((function(n){var a=L.getLoginByToken(e);if(!a)return n(V(B.tokenInvalid,"token is invalid"));var r=T(),c=Object(I.a)(Object(I.a)({},t),{},{id:r});return L.favouritesListAddRecord(a,c),n(A({id:r}))}))},P=function(e,t){return new Promise((function(n){var a=L.getLoginByToken(e);return a?(L.favouritesListDeleteRecord(a,t),n(A("ok"))):n(V(B.tokenInvalid,"token is invalid"))}))},D=function(e,t){return new Promise((function(n){var a=L.getLoginByToken(e);return a?(L.favouritesListEditRecord(a,t),n(A("ok"))):n(V(B.tokenInvalid,"token is invalid"))}))};!function(e){e[e.userNotExist=1]="userNotExist",e[e.wrongPassword=2]="wrongPassword",e[e.tokenInvalid=3]="tokenInvalid"}(B||(B={}));var G=function(e){return U(e)},J="token",Y=function(e){return localStorage.setItem(J,e)},W=function(){return localStorage.getItem(J)},K=function(){return localStorage.removeItem(J)},z="CLEAR_ALL_STATES",Q="SET_ALERT_MESSAGE",X="CLEAR_ALERT_MESSAGE",Z=function(){return{type:z}},$=function(e,t,n){return function(a){n||(n=1.5),a(function(e,t,n){return{type:Q,payload:{message:e,type:t,duration:n}}}(e,t,n)),setTimeout((function(){a({type:X})}),n)}},ee="FAVOURITES_FETCHING_START",te="FAVOURITES_FETCHING_FINISH",ne="FAVOURITES_SET_LIST",ae="FAVOURITES_ADD_RECORD",re="FAVOURITES_DELETE_RECORD",ce=function(e){return q(e)},ie=function(e,t){return H(e,t)},se=function(e,t){return P(e,t)},oe=function(e,t){return D(e,t)},ue="FAVOURITES_MODAL_OPEN",le="FAVOURITES_MODAL_CLOSE",je="FAVOURITES_MODAL_FETCHING_START",de="FAVOURITES_MODAL_FETCHING_FINISH",be="FAVOURITES_MODAL_FILL_DATA",Oe=function(e){return{type:ue,payload:{query:e}}},fe=function(){return{type:le}},he=function(e){return function(t,n){var a=n().favourites.items.filter((function(t){return t.id===e})),r=Object(i.a)(a,1)[0];t(function(e,t,n,a){return{type:be,payload:{sort:e,name:t,maxCount:n,id:a}}}(r.sort,r.name,r.maxCount,r.id)),t(Oe(r.query))}},me=function(){return{type:ee}},pe=function(){return{type:te}},ve=function(e){return{type:ae,payload:{record:e}}},xe=function(e){return{type:re,payload:{id:e}}},_e=function(){return function(){var e=Object(_.a)(x.a.mark((function e(t,n){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(me()),a=n().user.token){e.next=4;break}return e.abrupt("return",t(Z()));case 4:return e.next=6,ce(a);case 6:(r=e.sent).success?t((c=r.data,{type:ne,payload:{favouritesList:c}})):t($(r.message,"error")),t(pe());case 9:case"end":return e.stop()}var c}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ge=function(e){return{type:S,payload:{token:e}}},ye=n(8),Se=function(){var e=Object(h.h)().pathname,t=Object(p.b)(),n=Object(a.useCallback)((function(){t((function(e){K(),e(Z())}))}),[t]);return Object(ye.jsx)(s.a.Header,{className:O.a.header,children:Object(ye.jsxs)(o.a,{align:"middle",className:"container",children:[Object(ye.jsx)("img",{className:d()("logo",O.a.logo),src:f,alt:"sibdev logo"}),Object(ye.jsxs)(l.a,{className:O.a.menu,theme:"light",mode:"horizontal",selectedKeys:[e],children:[Object(ye.jsx)(l.a.Item,{children:Object(ye.jsx)(m.b,{to:"/search",children:"\u041f\u043e\u0438\u0441\u043a"})},"/search"),Object(ye.jsx)(l.a.Item,{children:Object(ye.jsx)(m.b,{to:"/favourites",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})},"/favourites")]}),Object(ye.jsx)(u.a,{type:"link",onClick:n,className:d()("ant-menu-item",O.a.logout),children:"\u0412\u044b\u0439\u0442\u0438"})]})})},Ie=n(1941),Ne=n(1943),Te=n(1939),Ee=n(1942),ke=n(1937),we=n(1940),Fe=n(1945),Re=n(80),Le=n.n(Re),Ce=n(206),Ae=[{value:"relevance",description:"\u043f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438"},{value:"date",description:"\u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"},{value:"rating",description:"\u043f\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443"},{value:"title",description:"\u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},{value:"viewCount",description:"\u043f\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430\u043c"}].map((function(e){return Object(ye.jsx)(Ie.a.Option,{value:e.value,children:e.description},e.value)})),Ve=function(){var e=Object(p.b)(),t=Object(Ce.useForm)(),n=Object(i.a)(t,1)[0],r=Object(p.c)((function(e){return e.favouritesModal})),c=r.query,s=r.isVisible,l=r.maxCount,j=r.isFetching,b=r.name,O=r.sort,f=r.recordId,h=Object(a.useState)(12),m=Object(i.a)(h,2),v=m[0],g=m[1];Object(a.useEffect)((function(){s&&n.resetFields()}),[n,s]),Object(a.useEffect)((function(){g(l)}),[l]);var y=Object(a.useCallback)((function(e){isNaN(e)||g(e)}),[]),S=Object(a.useCallback)((function(){e(fe())}),[e]),N=Object(a.useCallback)((function(t){var n;e(f?(n=Object(I.a)(Object(I.a)({},t),{},{maxCount:v,id:f}),function(){var e=Object(_.a)(x.a.mark((function e(t,a){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(me()),r=a().user.token){e.next=4;break}return e.abrupt("return",t(Z()));case 4:return e.next=6,oe(r,n);case 6:if(!(c=e.sent).success){e.next=12;break}return t(fe()),e.abrupt("return",t(_e()));case 12:t($(c.message,"error"));case 13:t(pe());case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(_.a)(x.a.mark((function t(n,a){var r,c,i;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:je}),n(me()),r=a().user.token){t.next=5;break}return t.abrupt("return",n(Z()));case 5:return t.next=7,ie(r,e);case 7:(c=t.sent).success?(i=Object(I.a)(Object(I.a)({},e),{},{id:c.data.id}),n(ve(i))):n($(c.message,"error")),n({type:de}),n(pe()),n(fe()),n($("\u0437\u0430\u043f\u0438\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430","success"));case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(Object(I.a)(Object(I.a)({},t),{},{maxCount:v})))}),[e,v,f]),T={maxCount:l||12,name:b||"",query:c||"",sort:O||""};return Object(ye.jsxs)(Ne.a,{visible:s,centered:!0,closable:!1,footer:null,getContainer:!1,children:[Object(ye.jsx)(o.a,{className:Le.a.titleBox,justify:"center",children:Object(ye.jsx)("h1",{className:Le.a.title,children:f?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441"})}),Object(ye.jsxs)(Te.a,{layout:"vertical",onFinish:N,form:n,initialValues:T,children:[Object(ye.jsx)(Te.a.Item,{label:"\u0417\u0430\u043f\u0440\u043e\u0441",name:"query",className:d()(Object(w.a)({},Le.a.labelMuted,f)),rules:[{required:!0,message:"\u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u044b\u043c!"}],required:!1,children:Object(ye.jsx)(Ee.a,{disabled:!Boolean(f)||j})}),Object(ye.jsx)(Te.a.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"}],children:Object(ye.jsx)(Ee.a,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",disabled:j})}),Object(ye.jsx)(Te.a.Item,{name:"sort",label:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e",children:Object(ye.jsxs)(Ie.a,{className:"select",disabled:j,children:[Object(ye.jsx)(Ie.a.Option,{className:Le.a.firstSelectOption,value:"",children:"\u0411\u0435\u0437 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438"}),Ae]})}),Object(ye.jsx)(Te.a.Item,{label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",name:"maxCount",children:Object(ye.jsxs)(o.a,{align:"middle",children:[Object(ye.jsx)(ke.a,{flex:"auto",children:Object(ye.jsx)(we.a,{value:v,onChange:y,min:0,max:50,disabled:j})}),Object(ye.jsx)(ke.a,{flex:"100px",children:Object(ye.jsx)(Fe.a,{value:v,onChange:function(e){return y(Number(e))},min:0,max:50,disabled:j})})]})}),Object(ye.jsxs)(o.a,{justify:"space-between",children:[Object(ye.jsx)(Te.a.Item,{children:Object(ye.jsx)(u.a,{className:Le.a.btn,disabled:j,onClick:S,htmlType:"button",children:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c"})}),Object(ye.jsx)(Te.a.Item,{children:Object(ye.jsx)(u.a,{className:Le.a.btn,loading:j,type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})]})},Be="search",Me="login",Ue="YouTube App",qe=function(){var e=Object(p.c)((function(e){return e.user.token}));return[Object(a.useCallback)((function(){return e||W()}),[e])()]},He=s.a.Content,Pe=function(e){var t=e.children,n=qe();return Object(i.a)(n,1)[0]?Object(ye.jsxs)(s.a,{children:[Object(ye.jsx)(Se,{}),Object(ye.jsxs)(He,{children:[Object(ye.jsx)("div",{className:"container",children:t}),Object(ye.jsx)(Ve,{})]})]}):Object(ye.jsx)(h.a,{to:"/".concat(Me)})},De=n(95),Ge=n.n(De),Je=n(209),Ye=n.n(Je),We="LOGIN",Ke="PASSWORD",ze=[{required:!0,whitespace:!0,message:"\u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},{max:20,message:"\u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}],Qe=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.user.isFetching})),n=Object(a.useCallback)((function(t){var n;e((n={login:t.LOGIN,password:t.PASSWORD},function(){var e=Object(_.a)(x.a.mark((function e(t){var a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:g}),e.next=3,G(n);case 3:(a=e.sent).success?(r=a.data,Y(r),t(ge(r)),t(_e())):t($(a.message,"error")),t({type:y});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e]);return Object(ye.jsxs)(Te.a,{onFinish:n,layout:"vertical",requiredMark:!1,children:[Object(ye.jsx)(Te.a.Item,{name:We,rules:ze,label:"\u041b\u043e\u0433\u0438\u043d",className:"label-muted",children:Object(ye.jsx)(Ee.a,{disabled:t})}),Object(ye.jsx)(Te.a.Item,{name:Ke,rules:ze,label:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"label-muted",children:Object(ye.jsx)(Ee.a.Password,{disabled:t})}),Object(ye.jsx)(o.a,{className:Ye.a.btnBox,justify:"center",children:Object(ye.jsx)(Te.a.Item,{children:Object(ye.jsx)(u.a,{loading:t,type:"primary",htmlType:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})},Xe={xxl:7,xl:9,lg:12,md:16,sm:20,xs:22},Ze={sm:15,xs:18},$e=function(){Object(a.useEffect)((function(){document.title="".concat(Ue," - \u0432\u0445\u043e\u0434")}),[]);var e=qe();return Object(i.a)(e,1)[0]?Object(ye.jsx)(h.a,{to:"/"}):Object(ye.jsx)(o.a,{justify:"center",align:"middle",style:{height:"100vh"},children:Object(ye.jsxs)(ke.a,Object(I.a)(Object(I.a)({className:Ge.a.container},Xe),{},{children:[Object(ye.jsx)(o.a,{justify:"center",children:Object(ye.jsx)("img",{className:Ge.a.logo,src:f,alt:"sibDev-logo"})}),Object(ye.jsx)(o.a,{className:Ge.a.titleBox,justify:"center",children:Object(ye.jsx)("h1",{className:Ge.a.title,children:"\u0412\u0445\u043e\u0434"})}),Object(ye.jsx)(o.a,{className:Ge.a.formBox,justify:"center",children:Object(ye.jsx)(ke.a,Object(I.a)(Object(I.a)({},Ze),{},{children:Object(ye.jsx)(Qe,{})}))})]}))})},et=n(217),tt=n(1938),nt=n(79),at=n.n(nt),rt=function(e){var t=e.name,n=e.onDelete,r=e.onEdit,c=e.onClick,i=Object(a.useRef)(null);return Object(ye.jsxs)("li",{ref:i,onClick:function(e){e.target===i.current&&c()},className:at.a.listItem,children:[t,Object(ye.jsxs)("span",{className:at.a.buttons,children:[Object(ye.jsx)(u.a,{onClick:r,type:"link",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(ye.jsx)(u.a,{onClick:n,type:"link",danger:!0,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},ct=function(){Object(a.useEffect)((function(){document.title="".concat(Ue," - \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")}),[]);var e=Object(p.b)(),t=Object(h.g)(),n=Object(p.c)((function(e){return e.favourites.items})),r=Object(p.c)((function(e){return e.favourites.isFetching})),c=n.map((function(n){return Object(ye.jsx)(rt,{onClick:function(){return t.push("/search?q=".concat(n.query,"&sort=").concat(n.sort,"&maxCount=").concat(n.maxCount))},onEdit:function(){return e(he(n.id))},onDelete:function(){return e((t=n.id,function(){var e=Object(_.a)(x.a.mark((function e(n,a){var r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(me()),r=a().user.token){e.next=4;break}return e.abrupt("return",n(Z()));case 4:return e.next=6,se(r,t);case 6:(c=e.sent).success?n(xe(t)):n($(c.message,"error")),n(pe());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var t},name:n.name},n.id)}));return Object(ye.jsxs)(ye.Fragment,{children:[Object(ye.jsx)(o.a,{className:at.a.titleBox,children:Object(ye.jsx)("h1",{className:at.a.title,children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})}),Object(ye.jsx)(tt.a,{spinning:r,tip:"Loading...",children:Object(ye.jsxs)("ul",{className:at.a.list,children:[0===n.length?Object(ye.jsx)(o.a,{justify:"center",children:"\u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442 :("}):null,c]})})]})},it=n(1946),st=n(94),ot=n(155),ut=n.n(ot),lt="#1390E5",jt=Object(ye.jsxs)("div",{className:ut.a.popoverBox,children:[Object(ye.jsx)("div",{className:ut.a.popoverText,children:"\u041f\u043e\u0438\u0441\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \xab\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435\xbb"}),Object(ye.jsx)(m.b,{to:"/favourites",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),dt=function(){var e=Object(h.g)(),t=Object(p.b)(),n=Object(p.c)((function(e){return e.search.isFetching})),r=Object(p.c)((function(e){return e.search.query})),c=Object(p.c)((function(e){return e.search.isReadyToShow})),s=Object(p.c)((function(e){return e.favourites.isSavedMessageVisible})),o=Object(a.useState)(""),u=Object(i.a)(o,2),l=u[0],j=u[1];Object(a.useEffect)((function(){r&&j(r)}),[r]);var d=Object(a.useCallback)((function(){e.push("/search?q=".concat(l))}),[e,l]),b=Object(a.useCallback)((function(e){j(e.target.value)}),[]),O=Object(a.useCallback)((function(){r&&t(Oe(r))}),[r,t]),f=Object(ye.jsx)(it.a,{content:jt,visible:s,placement:"bottom",children:s?Object(ye.jsx)(st.HeartTwoTone,{style:{color:lt}}):c?Object(ye.jsx)(st.HeartOutlined,{onClick:O,style:{color:lt}}):null});return Object(ye.jsx)(Ee.a.Search,{value:l,onChange:b,placeholder:"\u0427\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c?",enterButton:"\u041d\u0430\u0439\u0442\u0438",suffix:f,onSearch:d,loading:n,required:!0})},bt=n(60),Ot=n.n(bt),ft=n(72),ht=n.n(ft),mt=function(e){var t=e.views,n=e.channelName,a=e.title,r=e.previewURL,c="card"===e.viewMode;return c&&a.length>=60&&(a=a.substr(0,57)+"..."),Object(ye.jsxs)("div",{className:d()(ht.a.container,"ant-card-hoverable",Object(w.a)({},ht.a.card,c)),children:[Object(ye.jsx)("img",{className:ht.a.preview,src:r,alt:a}),Object(ye.jsxs)("div",{className:ht.a.body,children:[Object(ye.jsx)("div",{className:ht.a.title,children:a}),Object(ye.jsxs)("div",{children:[Object(ye.jsx)("div",{className:ht.a.channelName,children:n}),Object(ye.jsxs)("div",{className:ht.a.views,children:[t," \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432"]})]})]})]})},pt=function(){var e=function(){var e=localStorage.getItem("viewMode");return!(!e||"list"!==e&&"card"!==e)&&e}(),t=Object(a.useState)(e||"card"),n=Object(i.a)(t,2),r=n[0],c=n[1],s=Object(p.c)((function(e){return e.search.videos})),l=Object(p.c)((function(e){return e.search.query})),j=Object(p.c)((function(e){return e.search.totalResults}));Object(a.useEffect)((function(){localStorage.setItem("viewMode",r)}),[r]);var b=null===s||void 0===s?void 0:s.map((function(e){var t=e.views,n=String(t);return t>=1e3&&t<1e6&&(n=n.substr(0,n.length-3)+" \u0442\u044b\u0441."),t>=1e6&&(n=n.substr(0,n.length-6)+" \u043c\u043b\u043d."),Object(ye.jsx)(ke.a,{children:Object(ye.jsx)(mt,{viewMode:r,title:e.snippet.title,views:n,channelName:e.snippet.channelTitle,previewURL:e.snippet.thumbnails.medium.url})},e.id.videoId)}));return Object(ye.jsxs)(ye.Fragment,{children:[Object(ye.jsxs)(o.a,{align:"middle",justify:"space-between",children:[Object(ye.jsxs)(ke.a,{children:[Object(ye.jsxs)("span",{className:Ot.a.listTitle,children:["\u0412\u0438\u0434\u0435\u043e \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ",Object(ye.jsxs)("strong",{children:["\xab",l,"\xbb"]})]}),Object(ye.jsx)("span",{className:Ot.a.count,children:j})]}),Object(ye.jsxs)(ke.a,{children:[Object(ye.jsx)(u.a,{onClick:function(){return c("list")},className:Ot.a.btn,type:"link",children:Object(ye.jsx)(st.UnorderedListOutlined,{className:d()(Ot.a.viewSelectorIcon,Object(w.a)({},Ot.a.viewSelectorIcon_selected,"list"===r))})}),Object(ye.jsx)(u.a,{onClick:function(){return c("card")},className:Ot.a.btn,type:"link",children:Object(ye.jsx)(st.AppstoreOutlined,{className:d()(Ot.a.viewSelectorIcon,Object(w.a)({},Ot.a.viewSelectorIcon_selected,"card"===r))})})]})]}),Object(ye.jsx)(o.a,{gutter:[20,32],children:b})]})},vt="SEARCH_FETCHING_START",xt="SEARCH_FETCHING_FINISH",_t="SEARCH_SET_VIDEOS",gt="SEARCH_SET_QUERY",yt="SEARCH_SET_TOTAL_RESULTS",St="SEARCH_SET_READY_TO_SHOW",It=n(211),Nt="AIzaSyD4oqFUtrWe9IFK0dnrOrhLTGwYeVjt2eM",Tt=n.n(It).a.create({baseURL:"https://youtube.googleapis.com/youtube/v3/"}),Et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e=encodeURIComponent(e);var a="&part=snippet&key=".concat(Nt,"&q=").concat(e,"&maxResults=").concat(t,"&type=video");return n&&(a+="&order=".concat(n)),Tt.get("/search?channelType=any".concat(a)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},kt=function(e){return Tt.get("/videos?id=".concat(e,"&part=statistics&key=").concat(Nt)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},wt=function(){return{type:xt}},Ft=function(e){return{type:gt,payload:{query:e}}},Rt=n(106),Lt=n.n(Rt),Ct=function(){var e=Object(p.b)(),t=new URLSearchParams(Object(h.h)().search),n=t.get("q"),r=t.get("sort")||"",c=Number(t.get("maxCount"))||12,s=Object(p.c)((function(e){return e.search.isReadyToShow}));Object(a.useEffect)((function(){document.title=n?"".concat(Ue," - \u043f\u043e\u0438\u0441\u043a: ").concat(n):"".concat(Ue," - \u041f\u043e\u0438\u0441\u043a")}),[n]),Object(a.useEffect)((function(){var t,a,s;n&&e((t=n,a=c,s=r,function(){var e=Object(_.a)(x.a.mark((function e(n){var r,c,o,u,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return n(wt()),n($(e,"error"))},n({type:vt}),n(Ft(t)),e.next=5,Et(t,a,s);case 5:if(!(c=e.sent).error){e.next=8;break}return e.abrupt("return",r(c.error.message));case 8:return o=c.items.map((function(e){return e.id.videoId})),e.next=11,kt(o);case 11:if(!(u=e.sent).error){e.next=14;break}return e.abrupt("return",r(u.error.message));case 14:l=c.items.map((function(e){e.snippet.title=e.snippet.title.replaceAll("&amp;","&"),e.snippet.channelTitle=e.snippet.channelTitle.replaceAll("&amp;","&");var t=e.id.videoId,n=u.items.filter((function(e){return e.id===t})),a=Object(i.a)(n,1)[0];return Object(I.a)(Object(I.a)({},e),{},{views:Number(a.statistics.viewCount)})})),n((j=c.pageInfo.totalResults,{type:yt,payload:{totalResults:j}})),n({type:_t,payload:{videos:l}}),n({type:St}),n(wt());case 19:case"end":return e.stop()}var j}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[n,e,c,r]);var u=s?24:12;return Object(ye.jsxs)(ye.Fragment,{children:[Object(ye.jsx)(o.a,{className:d()(Lt.a.controlBox,Object(w.a)({},Lt.a.minified,s)),justify:"center",align:"middle",children:Object(ye.jsxs)(ke.a,{span:u,children:[Object(ye.jsx)(o.a,{className:Lt.a.titleBox,justify:"center",children:Object(ye.jsx)("h1",{className:Lt.a.title,children:"\u041f\u043e\u0438\u0441\u043a \u0432\u0438\u0434\u0435\u043e"})}),Object(ye.jsx)(o.a,{justify:"center",children:Object(ye.jsx)(dt,{})})]})}),s&&Object(ye.jsx)(pt,{})]})},At=function(){var e=Object(p.b)();return Object(a.useEffect)((function(){e((function(e){var t=W();t&&(e(ge(t)),e(_e()))}))}),[e]),function(){var e=Object(p.c)((function(e){return e.alert.message})),t=Object(p.c)((function(e){return e.alert.type})),n=Object(p.c)((function(e){return e.alert.duration}));Object(a.useEffect)((function(){t&&n&&e&&et.b[t](e,n)}),[n,e,t])}(),Object(ye.jsx)(m.a,{children:Object(ye.jsxs)(h.d,{children:[Object(ye.jsx)(h.b,{path:"/".concat(Me),children:Object(ye.jsx)($e,{})}),Object(ye.jsx)(Pe,{children:Object(ye.jsxs)(h.d,{children:[Object(ye.jsx)(h.b,{path:"/".concat("favourites"),children:Object(ye.jsx)(ct,{})}),Object(ye.jsx)(h.b,{path:"/".concat(Be),children:Object(ye.jsx)(Ct,{})}),Object(ye.jsx)(h.b,{children:Object(ye.jsx)(h.a,{to:"/".concat(Be)})})]})})]})})},Vt=n(63),Bt=n(212),Mt=n(213),Ut={isFetching:!1,token:null},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Ut;case g:return Object(I.a)(Object(I.a)({},e),{},{isFetching:!0});case y:return Object(I.a)(Object(I.a)({},e),{},{isFetching:!1});case S:return Object(I.a)(Object(I.a)({},e),{},{token:t.payload.token});default:return e}},Ht={isFetching:!1,query:null,totalResults:null,videos:null,isReadyToShow:!1,errorMessage:null},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return Object(I.a)(Object(I.a)({},Ht),{},{isFetching:!0,isReadyToShow:e.isReadyToShow});case z:return Ht;case gt:return Object(I.a)(Object(I.a)({},e),{},{query:t.payload.query});case St:return Object(I.a)(Object(I.a)({},e),{},{isReadyToShow:!0});case yt:return Object(I.a)(Object(I.a)({},e),{},{totalResults:t.payload.totalResults});case xt:return Object(I.a)(Object(I.a)({},e),{},{isFetching:!1});case _t:return Object(I.a)(Object(I.a)({},e),{},{videos:t.payload.videos});default:return e}},Dt={message:null,type:null,duration:null},Gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{message:t.payload.message,type:t.payload.type,duration:t.payload.duration};case X:case z:return Dt;default:return e}},Jt={isFetching:!1,items:[],isSavedMessageVisible:!1},Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Jt;case ee:return Object(I.a)(Object(I.a)({},e),{},{isFetching:!0});case te:return Object(I.a)(Object(I.a)({},e),{},{isFetching:!1});case ne:return Object(I.a)(Object(I.a)({},e),{},{items:t.payload.favouritesList});case ae:return Object(I.a)(Object(I.a)({},e),{},{items:[].concat(Object(k.a)(e.items),[t.payload.record]),isSavedMessageVisible:!0});case re:var n=e.items.filter((function(e){return e.id!==t.payload.id}));return Object(I.a)(Object(I.a)({},e),{},{items:n});case vt:return Object(I.a)(Object(I.a)({},e),{},{isSavedMessageVisible:!1});default:return e}},Wt={isFetching:!1,isVisible:!1,recordId:null,query:null,name:null,sort:"",maxCount:12},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Wt;case je:return Object(I.a)(Object(I.a)({},e),{},{isFetching:!0});case de:return Object(I.a)(Object(I.a)({},e),{},{isFetching:!1});case ue:return Object(I.a)(Object(I.a)({},e),{},{isVisible:!0,query:t.payload.query});case le:return Wt;case be:var n=t.payload,a=n.maxCount,r=n.name,c=n.sort,i=n.id;return Object(I.a)(Object(I.a)({},e),{},{maxCount:a,name:r,sort:c,recordId:i});default:return e}},zt=Object(Vt.combineReducers)({user:qt,search:Pt,alert:Gt,favourites:Yt,favouritesModal:Kt}),Qt=Object(Vt.createStore)(zt,Object(Mt.composeWithDevTools)(Object(Vt.applyMiddleware)(Bt.a))),Xt=Object(ye.jsx)(p.a,{store:Qt,children:Object(ye.jsx)(At,{})});c.a.render(Xt,document.getElementById("root"))},202:function(e){e.exports=JSON.parse('{"root":"toor","test":"test"}')},209:function(e,t,n){e.exports={btnBox:"LoginForm_btnBox__1rH4o"}},226:function(e,t,n){},227:function(e,t,n){},60:function(e,t,n){e.exports={listTitle:"VideoList_listTitle__1Ylc1",count:"VideoList_count__WOcRG",btn:"VideoList_btn__2jeC9",viewSelectorIcon:"VideoList_viewSelectorIcon__3mtJf",viewSelectorIcon_selected:"VideoList_viewSelectorIcon_selected__apM58"}},72:function(e,t,n){e.exports={card:"VideoItem_card__2hI_Y",preview:"VideoItem_preview__2CqCL",body:"VideoItem_body__1GaRX",title:"VideoItem_title__3iPxr",container:"VideoItem_container__1MaRF",channelName:"VideoItem_channelName__45hni",views:"VideoItem_views__kbyzL"}},79:function(e,t,n){e.exports={titleBox:"Favourites_titleBox__1Ynjh",title:"Favourites_title__2S2VF",list:"Favourites_list__2bKSR",listItem:"Favourites_listItem__vNVdk",buttons:"Favourites_buttons__vkA_N"}},80:function(e,t,n){e.exports={titleBox:"FavouriteModal_titleBox__3P0Rj",title:"FavouriteModal_title__34fvv",btn:"FavouriteModal_btn__20ViI",firstSelectOption:"FavouriteModal_firstSelectOption__2x63A",labelMuted:"FavouriteModal_labelMuted__2Qynj"}},95:function(e,t,n){e.exports={container:"LoginPage_container__3bocI",titleBox:"LoginPage_titleBox__35oY9",title:"LoginPage_title__v_JCg",formBox:"LoginPage_formBox__3V-pN",logo:"LoginPage_logo__2w5_s"}}},[[1933,1,2]]]);
//# sourceMappingURL=main.2139e846.chunk.js.map