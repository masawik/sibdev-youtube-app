(this["webpackJsonpsibdev-youtube-app"]=this["webpackJsonpsibdev-youtube-app"]||[]).push([[0],{107:function(e,t,n){e.exports={header:"Header_header__1105z",logo:"Header_logo__24EJi",menu:"Header_menu__1kOpx",logout:"Header_logout__34Qp3"}},108:function(e,t,n){e.exports={minified:"SearchPage_minified__1875q",titleBox:"SearchPage_titleBox__355xg",title:"SearchPage_title__1U_bS",controlBox:"SearchPage_controlBox__8WbWe"}},157:function(e,t,n){e.exports={popoverBox:"Search_popoverBox__1h7BF",popoverText:"Search_popoverText__YOxKd"}},1934:function(e,t,n){"use strict";n.r(t);n(222);var a=n(0),r=n.n(a),c=n(27),i=n.n(c),s=(n(227),n(228),n(35)),o=n(1936),u=n(1937),l=n(77),d=n(1945),j=n(7),b=n.n(j),O=n(107),f=n.n(O),h=n.p+"static/media/logo.e0cf95fb.svg",p=n(30),m=n(51),v=n(22),x=n(39),_=n.n(x),g=n(58),y="USER_FETCHING_START",S="USER_FETCHING_FINISH",I="USER_SET_TOKEN",w=n(12),N=n(204),E=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},T=function(e,t){return Math.floor(e+Math.random()*(t+1-e))},k=n(130),R=n(40),C="TOKEN_BY_LOGIN",F="DB_FAVOURITES_LISTS",L={addUserToken:function(e,t){var n=Object(R.a)({},e,t),a=localStorage.getItem(C),r=a?Object(w.a)(Object(w.a)({},JSON.parse(a)),n):Object(w.a)({},n),c=JSON.stringify(r);localStorage.setItem(C,c)},getLoginByToken:function(e){var t=localStorage.getItem(C);if(!t)return!1;for(var n=JSON.parse(t),a=0,r=Object.entries(n);a<r.length;a++){var c=r[a];if(e===c[1])return c[0]}return!1},getFavouritesList:function(e){var t=localStorage.getItem(F);if(!t)return[];var n=JSON.parse(t);return n[e]?n[e]:[]},favouritesListUpdate:function(e,t){var n=localStorage.getItem(F),a={};n&&(a=Object(w.a)(Object(w.a)({},a),JSON.parse(n))),a=Object(w.a)(Object(w.a)({},a),{},Object(R.a)({},e,t)),localStorage.setItem(F,JSON.stringify(a))},favouritesListAddRecord:function(e,t){var n=L.getFavouritesList(e),a=[].concat(Object(k.a)(n),[t]);L.favouritesListUpdate(e,a)},favouritesListDeleteRecord:function(e,t){var n=L.getFavouritesList(e).filter((function(e){return e.id!==t}));L.favouritesListUpdate(e,n)},favouritesListEditRecord:function(e,t){var n=L.getFavouritesList(e).map((function(e){return e.id===t.id?t:e}));L.favouritesListUpdate(e,n)}},A=N;function V(e){return{success:!0,data:e}}function B(e,t){return{success:!1,message:t}}var M,U=T(0,0),q=function(e){var t=e.login,n=e.password;return new Promise((function(e){setTimeout((function(){if(!A[t])return e(B(M.userNotExist,"user not exist"));if(A[t]!==n)return e(B(M.wrongPassword,"wrong password"));var a=E();L.addUserToken(t,a),e(V(a))}),U)}))},D=function(e){return new Promise((function(t){var n=L.getLoginByToken(e);return t(n?V(L.getFavouritesList(n)):B(M.tokenInvalid,"token is invalid"))}))},H=function(e,t){return new Promise((function(n){var a=L.getLoginByToken(e);if(!a)return n(B(M.tokenInvalid,"token is invalid"));var r=E(),c=Object(w.a)(Object(w.a)({},t),{},{id:r});return L.favouritesListAddRecord(a,c),n(V({id:r}))}))},P=function(e,t){return new Promise((function(n){var a=L.getLoginByToken(e);return a?(L.favouritesListDeleteRecord(a,t),n(V("ok"))):n(B(M.tokenInvalid,"token is invalid"))}))},G=function(e,t){return new Promise((function(n){var a=L.getLoginByToken(e);return a?(L.favouritesListEditRecord(a,t),n(V("ok"))):n(B(M.tokenInvalid,"token is invalid"))}))};!function(e){e[e.userNotExist=1]="userNotExist",e[e.wrongPassword=2]="wrongPassword",e[e.tokenInvalid=3]="tokenInvalid"}(M||(M={}));var J=function(e){return q(e)},W="token",Y=function(e){return localStorage.setItem(W,e)},K=function(){return localStorage.getItem(W)},z=function(){return localStorage.removeItem(W)},Q="CLEAR_ALL_STATES",X="SET_ALERT_MESSAGE",Z="CLEAR_ALERT_MESSAGE",$=function(){return{type:Q}},ee=function(e,t,n){return function(a){n||(n=1.5),a(function(e,t,n){return{type:X,payload:{message:e,type:t,duration:n}}}(e,t,n)),setTimeout((function(){a({type:Z})}),n)}},te="FAVOURITES_FETCHING_START",ne="FAVOURITES_FETCHING_FINISH",ae="FAVOURITES_SET_LIST",re="FAVOURITES_ADD_RECORD",ce="FAVOURITES_DELETE_RECORD",ie=function(e){return D(e)},se=function(e,t){return H(e,t)},oe=function(e,t){return P(e,t)},ue=function(e,t){return G(e,t)},le="FAVOURITES_MODAL_OPEN",de="FAVOURITES_MODAL_CLOSE",je="FAVOURITES_MODAL_FETCHING_START",be="FAVOURITES_MODAL_FETCHING_FINISH",Oe="FAVOURITES_MODAL_FILL_DATA",fe=function(e){return{type:le,payload:{query:e}}},he=function(){return{type:de}},pe=function(e){return function(t,n){var a=n().favourites.items.filter((function(t){return t.id===e})),r=Object(s.a)(a,1)[0];t(function(e,t,n,a){return{type:Oe,payload:{sort:e,name:t,maxCount:n,id:a}}}(r.sort,r.name,r.maxCount,r.id)),t(fe(r.query))}},me=function(){return{type:te}},ve=function(){return{type:ne}},xe=function(e){return{type:re,payload:{record:e}}},_e=function(e){return{type:ce,payload:{id:e}}},ge=function(){return function(){var e=Object(g.a)(_.a.mark((function e(t,n){var a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(me()),a=n().user.token){e.next=4;break}return e.abrupt("return",t($()));case 4:return e.next=6,ie(a);case 6:(r=e.sent).success?t((c=r.data,{type:ae,payload:{favouritesList:c}})):t(ee(r.message,"error")),t(ve());case 9:case"end":return e.stop()}var c}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ye=function(e){return{type:I,payload:{token:e}}},Se=n(8),Ie=function(){var e=Object(p.h)().pathname,t=Object(v.b)(),n=Object(a.useCallback)((function(){t((function(e){z(),e($())}))}),[t]);return Object(Se.jsx)(o.a.Header,{className:f.a.header,children:Object(Se.jsxs)(u.a,{align:"middle",className:"container",children:[Object(Se.jsx)("img",{className:b()("logo",f.a.logo),src:h,alt:"sibdev logo"}),Object(Se.jsxs)(d.a,{className:f.a.menu,theme:"light",mode:"horizontal",selectedKeys:[e],children:[Object(Se.jsx)(d.a.Item,{children:Object(Se.jsx)(m.b,{to:"/search",children:"\u041f\u043e\u0438\u0441\u043a"})},"/search"),Object(Se.jsx)(d.a.Item,{children:Object(Se.jsx)(m.b,{to:"/favourites",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})},"/favourites")]}),Object(Se.jsx)(l.a,{type:"link",onClick:n,className:b()("ant-menu-item",f.a.logout),children:"\u0412\u044b\u0439\u0442\u0438"})]})})},we=n(1942),Ne=n(1944),Ee=n(1940),Te=n(1943),ke=n(1938),Re=n(1941),Ce=n(1946),Fe=n(82),Le=n.n(Fe),Ae=n(208),Ve={query:"",maxCount:12,name:"",sort:""},Be=[{value:"relevance",description:"\u043f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438"},{value:"date",description:"\u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"},{value:"rating",description:"\u043f\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443"},{value:"title",description:"\u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},{value:"viewCount",description:"\u043f\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430\u043c"}].map((function(e){return Object(Se.jsx)(we.a.Option,{value:e.value,children:e.description},e.value)})),Me=function(){var e=Object(v.b)(),t=Object(Ae.useForm)(),n=Object(s.a)(t,1)[0],r=Object(v.c)((function(e){return e.favouritesModal})),c=r.query,i=r.isVisible,o=r.maxCount,d=r.isFetching,j=r.name,O=r.sort,f=r.recordId,h=Object(a.useState)(12),p=Object(s.a)(h,2),m=p[0],x=p[1],y=Object(a.useState)(Ve),S=Object(s.a)(y,2),I=S[0],N=S[1];Object(a.useEffect)((function(){N({maxCount:o||12,name:j||c||"",query:c||"",sort:O||""})}),[c,o,j,O]),Object(a.useEffect)((function(){i&&n.resetFields()}),[I]),Object(a.useEffect)((function(){x(o)}),[o]);var E=Object(a.useCallback)((function(e){isNaN(e)||x(e)}),[]),T=Object(a.useCallback)((function(){e(he())}),[e]),k=Object(a.useCallback)((function(t){var n;e(f?(n=Object(w.a)(Object(w.a)({},t),{},{maxCount:m,id:f}),function(){var e=Object(g.a)(_.a.mark((function e(t,a){var r,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(me()),r=a().user.token){e.next=4;break}return e.abrupt("return",t($()));case 4:return e.next=6,ue(r,n);case 6:if(!(c=e.sent).success){e.next=12;break}return t(he()),e.abrupt("return",t(ge()));case 12:t(ee(c.message,"error"));case 13:t(ve());case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(g.a)(_.a.mark((function t(n,a){var r,c,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:je}),n(me()),r=a().user.token){t.next=5;break}return t.abrupt("return",n($()));case 5:return t.next=7,se(r,e);case 7:(c=t.sent).success?(i=Object(w.a)(Object(w.a)({},e),{},{id:c.data.id}),n(xe(i))):n(ee(c.message,"error")),n({type:be}),n(ve()),n(he()),n(ee("\u0437\u0430\u043f\u0438\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430","success"));case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(Object(w.a)(Object(w.a)({},t),{},{maxCount:m})))}),[e,m,f]);return Object(Se.jsxs)(Ne.a,{visible:i,centered:!0,closable:!1,footer:null,getContainer:!1,children:[Object(Se.jsx)(u.a,{className:Le.a.titleBox,justify:"center",children:Object(Se.jsx)("h1",{className:Le.a.title,children:f?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441"})}),Object(Se.jsxs)(Ee.a,{layout:"vertical",onFinish:k,form:n,initialValues:I,children:[Object(Se.jsx)(Ee.a.Item,{label:"\u0417\u0430\u043f\u0440\u043e\u0441",name:"query",className:b()(Object(R.a)({},Le.a.labelMuted,f)),rules:[{required:!0,message:"\u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u044b\u043c!"}],required:!1,children:Object(Se.jsx)(Te.a,{disabled:!f||d})}),Object(Se.jsx)(Ee.a.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"}],children:Object(Se.jsx)(Te.a,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",disabled:d})}),Object(Se.jsx)(Ee.a.Item,{name:"sort",label:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e",children:Object(Se.jsxs)(we.a,{className:"select",disabled:d,children:[Object(Se.jsx)(we.a.Option,{className:Le.a.firstSelectOption,value:"",children:"\u0411\u0435\u0437 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438"}),Be]})}),Object(Se.jsx)(Ee.a.Item,{label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",name:"maxCount",children:Object(Se.jsxs)(u.a,{align:"middle",children:[Object(Se.jsx)(ke.a,{flex:"auto",children:Object(Se.jsx)(Re.a,{value:m,onChange:E,min:0,max:50,disabled:d})}),Object(Se.jsx)(ke.a,{flex:"100px",children:Object(Se.jsx)(Ce.a,{value:m,onChange:function(e){return E(Number(e))},min:0,max:50,disabled:d})})]})}),Object(Se.jsxs)(u.a,{justify:"space-between",children:[Object(Se.jsx)(Ee.a.Item,{children:Object(Se.jsx)(l.a,{className:Le.a.btn,disabled:d,onClick:T,htmlType:"button",children:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c"})}),Object(Se.jsx)(Ee.a.Item,{children:Object(Se.jsx)(l.a,{className:Le.a.btn,loading:d,type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})]})},Ue="search",qe="login",De="YouTube App",He=function(){var e=Object(v.c)((function(e){return e.user.token}));return[Object(a.useCallback)((function(){return e||K()}),[e])()]},Pe=n(1947),Ge="VIDEO_DRAWER_OPEN",Je="VIDEO_DRAWER_CLOSE",We=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.videoDrawer})),n=t.videoId,a=t.isVisible;return Object(Se.jsx)(Pe.a,{placement:"bottom",onClose:function(){e({type:Je})},visible:a,destroyOnClose:!0,bodyStyle:{display:"flex",justifyContent:"center",alignItems:"center"},height:"80vh",children:Object(Se.jsx)("iframe",{width:"889",height:"500",src:"https://www.youtube.com/embed/".concat(n),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})},Ye=o.a.Content,Ke=function(e){var t=e.children,n=He();return Object(s.a)(n,1)[0]?Object(Se.jsxs)(o.a,{children:[Object(Se.jsx)(Ie,{}),Object(Se.jsxs)(Ye,{children:[Object(Se.jsx)("div",{className:"container",children:t}),Object(Se.jsx)(Me,{}),Object(Se.jsx)(We,{})]})]}):Object(Se.jsx)(p.a,{to:"/".concat(qe)})},ze=n(97),Qe=n.n(ze),Xe=n(211),Ze=n.n(Xe),$e="LOGIN",et="PASSWORD",tt=[{required:!0,whitespace:!0,message:"\u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},{max:20,message:"\u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}],nt=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.user.isFetching})),n=Object(a.useCallback)((function(t){var n;e((n={login:t.LOGIN,password:t.PASSWORD},function(){var e=Object(g.a)(_.a.mark((function e(t){var a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),e.next=3,J(n);case 3:(a=e.sent).success?(r=a.data,Y(r),t(ye(r)),t(ge())):t(ee(a.message,"error")),t({type:S});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e]);return Object(Se.jsxs)(Ee.a,{onFinish:n,layout:"vertical",requiredMark:!1,children:[Object(Se.jsx)(Ee.a.Item,{name:$e,rules:tt,label:"\u041b\u043e\u0433\u0438\u043d",className:"label-muted",children:Object(Se.jsx)(Te.a,{disabled:t})}),Object(Se.jsx)(Ee.a.Item,{name:et,rules:tt,label:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"label-muted",children:Object(Se.jsx)(Te.a.Password,{disabled:t})}),Object(Se.jsx)(u.a,{className:Ze.a.btnBox,justify:"center",children:Object(Se.jsx)(Ee.a.Item,{children:Object(Se.jsx)(l.a,{loading:t,type:"primary",htmlType:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})},at={xxl:7,xl:9,lg:12,md:16,sm:20,xs:22},rt={sm:15,xs:18},ct=function(){Object(a.useEffect)((function(){document.title="".concat(De," - \u0432\u0445\u043e\u0434")}),[]);var e=He();return Object(s.a)(e,1)[0]?Object(Se.jsx)(p.a,{to:"/"}):Object(Se.jsx)(u.a,{justify:"center",align:"middle",style:{height:"100vh"},children:Object(Se.jsxs)(ke.a,Object(w.a)(Object(w.a)({className:Qe.a.container},at),{},{children:[Object(Se.jsx)(u.a,{justify:"center",children:Object(Se.jsx)("img",{className:Qe.a.logo,src:h,alt:"sibDev-logo"})}),Object(Se.jsx)(u.a,{className:Qe.a.titleBox,justify:"center",children:Object(Se.jsx)("h1",{className:Qe.a.title,children:"\u0412\u0445\u043e\u0434"})}),Object(Se.jsx)(u.a,{className:Qe.a.formBox,justify:"center",children:Object(Se.jsx)(ke.a,Object(w.a)(Object(w.a)({},rt),{},{children:Object(Se.jsx)(nt,{})}))})]}))})},it=n(219),st=n(1939),ot=n(81),ut=n.n(ot),lt=function(e){var t=e.name,n=e.onDelete,r=e.onEdit,c=e.onClick,i=Object(a.useRef)(null);return Object(Se.jsxs)("li",{ref:i,onClick:function(e){e.target===i.current&&c()},className:ut.a.listItem,children:[t,Object(Se.jsxs)("span",{className:ut.a.buttons,children:[Object(Se.jsx)(l.a,{onClick:r,type:"link",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(Se.jsx)(l.a,{onClick:n,type:"link",danger:!0,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},dt=function(){Object(a.useEffect)((function(){document.title="".concat(De," - \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")}),[]);var e=Object(v.b)(),t=Object(p.g)(),n=Object(v.c)((function(e){return e.favourites.items})),r=Object(v.c)((function(e){return e.favourites.isFetching})),c=n.map((function(n){return Object(Se.jsx)(lt,{onClick:function(){return t.push("/search?q=".concat(n.query,"&sort=").concat(n.sort,"&maxCount=").concat(n.maxCount))},onEdit:function(){return e(pe(n.id))},onDelete:function(){return e((t=n.id,function(){var e=Object(g.a)(_.a.mark((function e(n,a){var r,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(me()),r=a().user.token){e.next=4;break}return e.abrupt("return",n($()));case 4:return e.next=6,oe(r,t);case 6:(c=e.sent).success?n(_e(t)):n(ee(c.message,"error")),n(ve());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var t},name:n.name},n.id)}));return Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(u.a,{className:ut.a.titleBox,children:Object(Se.jsx)("h1",{className:ut.a.title,children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})}),Object(Se.jsx)(st.a,{spinning:r,tip:"Loading...",children:Object(Se.jsxs)("ul",{className:ut.a.list,children:[0===n.length?Object(Se.jsx)(u.a,{justify:"center",children:"\u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442 :("}):null,c]})})]})},jt=n(1948),bt=n(96),Ot=n(157),ft=n.n(Ot),ht="#1390E5",pt=Object(Se.jsxs)("div",{className:ft.a.popoverBox,children:[Object(Se.jsx)("div",{className:ft.a.popoverText,children:"\u041f\u043e\u0438\u0441\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \xab\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435\xbb"}),Object(Se.jsx)(m.b,{to:"/favourites",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),mt=function(){var e=Object(p.g)(),t=Object(v.b)(),n=Object(v.c)((function(e){return e.search.isFetching})),r=Object(v.c)((function(e){return e.search.query})),c=Object(v.c)((function(e){return e.search.isReadyToShow})),i=Object(v.c)((function(e){return e.favourites.isSavedMessageVisible})),o=Object(a.useState)(""),u=Object(s.a)(o,2),l=u[0],d=u[1];Object(a.useEffect)((function(){r&&d(r)}),[r]);var j=Object(a.useCallback)((function(){e.push("/search?q=".concat(l))}),[e,l]),b=Object(a.useCallback)((function(e){d(e.target.value)}),[]),O=Object(a.useCallback)((function(){r&&t(fe(r))}),[r,t]),f=Object(Se.jsx)(jt.a,{content:pt,visible:i,placement:"bottom",children:i?Object(Se.jsx)(bt.HeartTwoTone,{style:{color:ht}}):c?Object(Se.jsx)(bt.HeartOutlined,{onClick:O,style:{color:ht}}):null});return Object(Se.jsx)(Te.a.Search,{value:l,onChange:b,placeholder:"\u0427\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c?",enterButton:"\u041d\u0430\u0439\u0442\u0438",suffix:f,onSearch:j,loading:n,required:!0})},vt=n(60),xt=n.n(vt),_t=n(74),gt=n.n(_t),yt=function(e){var t=e.views,n=e.channelName,a=e.title,r=e.previewURL,c=e.viewMode,i=e.onClick,s="card"===c;return s&&a.length>=60&&(a=a.substr(0,57)+"..."),Object(Se.jsxs)("div",{onClick:i,className:b()(gt.a.container,"ant-card-hoverable",Object(R.a)({},gt.a.card,s)),children:[Object(Se.jsx)("img",{className:gt.a.preview,src:r,alt:a}),Object(Se.jsxs)("div",{className:gt.a.body,children:[Object(Se.jsx)("div",{className:gt.a.title,children:a}),Object(Se.jsxs)("div",{children:[Object(Se.jsx)("div",{className:gt.a.channelName,children:n}),Object(Se.jsxs)("div",{className:gt.a.views,children:[t," \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432"]})]})]})]})},St=function(){var e=Object(v.b)(),t=function(){var e=localStorage.getItem("viewMode");return!(!e||"list"!==e&&"card"!==e)&&e}(),n=Object(a.useState)(t||"card"),r=Object(s.a)(n,2),c=r[0],i=r[1],o=Object(v.c)((function(e){return e.search.videos})),d=Object(v.c)((function(e){return e.search.query})),j=Object(v.c)((function(e){return e.search.totalResults}));Object(a.useEffect)((function(){localStorage.setItem("viewMode",c)}),[c]);var O=null===o||void 0===o?void 0:o.map((function(t){var n=t.views,a=String(n);return n>=1e3&&n<1e6&&(a=a.substr(0,a.length-3)+" \u0442\u044b\u0441."),n>=1e6&&(a=a.substr(0,a.length-6)+" \u043c\u043b\u043d."),Object(Se.jsx)(ke.a,{children:Object(Se.jsx)(yt,{onClick:function(){return e((n=t.id.videoId,{type:Ge,payload:{id:n}}));var n},viewMode:c,title:t.snippet.title,views:a,channelName:t.snippet.channelTitle,previewURL:t.snippet.thumbnails.medium.url})},t.id.videoId)}));return Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsxs)(u.a,{align:"middle",justify:"space-between",children:[Object(Se.jsxs)(ke.a,{children:[Object(Se.jsxs)("span",{className:xt.a.listTitle,children:["\u0412\u0438\u0434\u0435\u043e \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ",Object(Se.jsxs)("strong",{children:["\xab",d,"\xbb"]})]}),Object(Se.jsx)("span",{className:xt.a.count,children:j})]}),Object(Se.jsxs)(ke.a,{children:[Object(Se.jsx)(l.a,{onClick:function(){return i("list")},className:xt.a.btn,type:"link",children:Object(Se.jsx)(bt.UnorderedListOutlined,{className:b()(xt.a.viewSelectorIcon,Object(R.a)({},xt.a.viewSelectorIcon_selected,"list"===c))})}),Object(Se.jsx)(l.a,{onClick:function(){return i("card")},className:xt.a.btn,type:"link",children:Object(Se.jsx)(bt.AppstoreOutlined,{className:b()(xt.a.viewSelectorIcon,Object(R.a)({},xt.a.viewSelectorIcon_selected,"card"===c))})})]})]}),Object(Se.jsx)(u.a,{gutter:[20,32],children:O})]})},It="SEARCH_FETCHING_START",wt="SEARCH_FETCHING_FINISH",Nt="SEARCH_SET_VIDEOS",Et="SEARCH_SET_QUERY",Tt="SEARCH_SET_TOTAL_RESULTS",kt="SEARCH_SET_READY_TO_SHOW",Rt=n(213),Ct="AIzaSyD4oqFUtrWe9IFK0dnrOrhLTGwYeVjt2eM",Ft=n.n(Rt).a.create({baseURL:"https://youtube.googleapis.com/youtube/v3/"}),Lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e=encodeURIComponent(e);var a="&part=snippet&key=".concat(Ct,"&q=").concat(e,"&maxResults=").concat(t,"&type=video");return n&&(a+="&order=".concat(n)),Ft.get("/search?channelType=any".concat(a)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},At=function(e){return Ft.get("/videos?id=".concat(e,"&part=statistics&key=").concat(Ct)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Vt=function(){return{type:wt}},Bt=function(e){return{type:Et,payload:{query:e}}},Mt=n(108),Ut=n.n(Mt),qt=function(){var e=Object(v.b)(),t=new URLSearchParams(Object(p.h)().search),n=t.get("q"),r=t.get("sort")||"",c=Number(t.get("maxCount"))||12,i=Object(v.c)((function(e){return e.search.isReadyToShow}));Object(a.useEffect)((function(){document.title=n?"".concat(De," - \u043f\u043e\u0438\u0441\u043a: ").concat(n):"".concat(De," - \u041f\u043e\u0438\u0441\u043a")}),[n]),Object(a.useEffect)((function(){var t,a,i;n&&e((t=n,a=c,i=r,function(){var e=Object(g.a)(_.a.mark((function e(n){var r,c,o,u,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return n(Vt()),n(ee(e,"error"))},n({type:It}),n(Bt(t)),e.next=5,Lt(t,a,i);case 5:if(!(c=e.sent).error){e.next=8;break}return e.abrupt("return",r(c.error.message));case 8:return o=c.items.map((function(e){return e.id.videoId})),e.next=11,At(o);case 11:if(!(u=e.sent).error){e.next=14;break}return e.abrupt("return",r(u.error.message));case 14:l=c.items.map((function(e){e.snippet.title=e.snippet.title.replaceAll("&amp;","&"),e.snippet.channelTitle=e.snippet.channelTitle.replaceAll("&amp;","&");var t=e.id.videoId,n=u.items.filter((function(e){return e.id===t})),a=Object(s.a)(n,1)[0];return Object(w.a)(Object(w.a)({},e),{},{views:Number(a.statistics.viewCount)})})),n((d=c.pageInfo.totalResults,{type:Tt,payload:{totalResults:d}})),n({type:Nt,payload:{videos:l}}),n({type:kt}),n(Vt());case 19:case"end":return e.stop()}var d}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[n,e,c,r]);var o=i?24:12;return Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(u.a,{className:b()(Ut.a.controlBox,Object(R.a)({},Ut.a.minified,i)),justify:"center",align:"middle",children:Object(Se.jsxs)(ke.a,{span:o,children:[Object(Se.jsx)(u.a,{className:Ut.a.titleBox,justify:"center",children:Object(Se.jsx)("h1",{className:Ut.a.title,children:"\u041f\u043e\u0438\u0441\u043a \u0432\u0438\u0434\u0435\u043e"})}),Object(Se.jsx)(u.a,{justify:"center",children:Object(Se.jsx)(mt,{})})]})}),i&&Object(Se.jsx)(St,{})]})},Dt=function(){var e=Object(v.b)();return Object(a.useEffect)((function(){e((function(e){var t=K();t&&(e(ye(t)),e(ge()))}))}),[e]),function(){var e=Object(v.c)((function(e){return e.alert.message})),t=Object(v.c)((function(e){return e.alert.type})),n=Object(v.c)((function(e){return e.alert.duration}));Object(a.useEffect)((function(){t&&n&&e&&it.b[t](e,n)}),[n,e,t])}(),Object(Se.jsx)(m.a,{children:Object(Se.jsx)(r.a.Fragment,{children:Object(Se.jsxs)(p.d,{children:[Object(Se.jsx)(p.b,{path:"/".concat(qe),children:Object(Se.jsx)(ct,{})}),Object(Se.jsx)(Ke,{children:Object(Se.jsxs)(p.d,{children:[Object(Se.jsx)(p.b,{path:"/".concat("favourites"),children:Object(Se.jsx)(dt,{})}),Object(Se.jsx)(p.b,{path:"/".concat(Ue),children:Object(Se.jsx)(qt,{})}),Object(Se.jsx)(p.b,{children:Object(Se.jsx)(p.a,{to:"/".concat(Ue)})})]})})]})})})},Ht=n(63),Pt=n(214),Gt=n(215),Jt={isFetching:!1,token:null},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Jt;case y:return Object(w.a)(Object(w.a)({},e),{},{isFetching:!0});case S:return Object(w.a)(Object(w.a)({},e),{},{isFetching:!1});case I:return Object(w.a)(Object(w.a)({},e),{},{token:t.payload.token});default:return e}},Yt={isFetching:!1,query:null,totalResults:null,videos:null,isReadyToShow:!1,errorMessage:null},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case It:return Object(w.a)(Object(w.a)({},Yt),{},{isFetching:!0,isReadyToShow:e.isReadyToShow});case Q:return Yt;case Et:return Object(w.a)(Object(w.a)({},e),{},{query:t.payload.query});case kt:return Object(w.a)(Object(w.a)({},e),{},{isReadyToShow:!0});case Tt:return Object(w.a)(Object(w.a)({},e),{},{totalResults:t.payload.totalResults});case wt:return Object(w.a)(Object(w.a)({},e),{},{isFetching:!1});case Nt:return Object(w.a)(Object(w.a)({},e),{},{videos:t.payload.videos});default:return e}},zt={message:null,type:null,duration:null},Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{message:t.payload.message,type:t.payload.type,duration:t.payload.duration};case Z:case Q:return zt;default:return e}},Xt={isFetching:!1,items:[],isSavedMessageVisible:!1},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Xt;case te:return Object(w.a)(Object(w.a)({},e),{},{isFetching:!0});case ne:return Object(w.a)(Object(w.a)({},e),{},{isFetching:!1});case ae:return Object(w.a)(Object(w.a)({},e),{},{items:t.payload.favouritesList});case re:return Object(w.a)(Object(w.a)({},e),{},{items:[].concat(Object(k.a)(e.items),[t.payload.record]),isSavedMessageVisible:!0});case ce:var n=e.items.filter((function(e){return e.id!==t.payload.id}));return Object(w.a)(Object(w.a)({},e),{},{items:n});case It:return Object(w.a)(Object(w.a)({},e),{},{isSavedMessageVisible:!1});default:return e}},$t={isFetching:!1,isVisible:!1,recordId:null,query:null,name:null,sort:"",maxCount:12},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return $t;case je:return Object(w.a)(Object(w.a)({},e),{},{isFetching:!0});case be:return Object(w.a)(Object(w.a)({},e),{},{isFetching:!1});case le:return Object(w.a)(Object(w.a)({},e),{},{isVisible:!0,query:t.payload.query});case de:return $t;case Oe:var n=t.payload,a=n.maxCount,r=n.name,c=n.sort,i=n.id;return Object(w.a)(Object(w.a)({},e),{},{maxCount:a,name:r,sort:c,recordId:i});default:return e}},tn={isVisible:!1,videoId:null},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return Object(w.a)(Object(w.a)({},e),{},{isVisible:!1});case Ge:return{isVisible:!0,videoId:t.payload.id};default:return e}},an=Object(Ht.combineReducers)({user:Wt,search:Kt,alert:Qt,favourites:Zt,favouritesModal:en,videoDrawer:nn}),rn=Object(Ht.createStore)(an,Object(Gt.composeWithDevTools)(Object(Ht.applyMiddleware)(Pt.a))),cn=Object(Se.jsx)(v.a,{store:rn,children:Object(Se.jsx)(Dt,{})});i.a.render(cn,document.getElementById("root"))},204:function(e){e.exports=JSON.parse('{"root":"toor","test":"test"}')},211:function(e,t,n){e.exports={btnBox:"LoginForm_btnBox__1rH4o"}},227:function(e,t,n){},228:function(e,t,n){},60:function(e,t,n){e.exports={listTitle:"VideoList_listTitle__1Ylc1",count:"VideoList_count__WOcRG",btn:"VideoList_btn__2jeC9",viewSelectorIcon:"VideoList_viewSelectorIcon__3mtJf",viewSelectorIcon_selected:"VideoList_viewSelectorIcon_selected__apM58"}},74:function(e,t,n){e.exports={card:"VideoItem_card__2hI_Y",preview:"VideoItem_preview__2CqCL",body:"VideoItem_body__1GaRX",title:"VideoItem_title__3iPxr",container:"VideoItem_container__1MaRF",channelName:"VideoItem_channelName__45hni",views:"VideoItem_views__kbyzL"}},81:function(e,t,n){e.exports={titleBox:"Favourites_titleBox__1Ynjh",title:"Favourites_title__2S2VF",list:"Favourites_list__2bKSR",listItem:"Favourites_listItem__vNVdk",buttons:"Favourites_buttons__vkA_N"}},82:function(e,t,n){e.exports={titleBox:"FavouriteModal_titleBox__3P0Rj",title:"FavouriteModal_title__34fvv",btn:"FavouriteModal_btn__20ViI",firstSelectOption:"FavouriteModal_firstSelectOption__2x63A",labelMuted:"FavouriteModal_labelMuted__2Qynj"}},97:function(e,t,n){e.exports={container:"LoginPage_container__3bocI",titleBox:"LoginPage_titleBox__35oY9",title:"LoginPage_title__v_JCg",formBox:"LoginPage_formBox__3V-pN",logo:"LoginPage_logo__2w5_s"}}},[[1934,1,2]]]);
//# sourceMappingURL=main.9152f173.chunk.js.map