(this["webpackJsonpsibdev-youtube-app"]=this["webpackJsonpsibdev-youtube-app"]||[]).push([[0],{105:function(e,t,n){e.exports={header:"Header_header__1105z",logo:"Header_logo__24EJi",menu:"Header_menu__1kOpx",logout:"Header_logout__34Qp3"}},106:function(e,t,n){e.exports={minified:"SearchPage_minified__1875q",titleBox:"SearchPage_titleBox__355xg",title:"SearchPage_title__1U_bS",controlBox:"SearchPage_controlBox__8WbWe"}},155:function(e,t,n){e.exports={popoverBox:"Search_popoverBox__1h7BF",popoverText:"Search_popoverText__YOxKd"}},1933:function(e,t,n){"use strict";n.r(t);n(221);var a=n(0),r=n.n(a),c=n(25),i=n.n(c),s=(n(226),n(227),n(38)),o=n(1935),u=n(1936),l=n(75),d=n(1944),j=n(7),b=n.n(j),O=n(105),f=n.n(O),h=n.p+"static/media/logo.380272e2.svg",p=n(30),m=n(51),v=n(22),x=n(39),_=n.n(x),g=n(58),y="USER_FETCHING_START",S="USER_FETCHING_FINISH",I="USER_SET_TOKEN",N=n(12),T=n(202),E=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},k=function(e,t){return Math.floor(e+Math.random()*(t+1-e))},w=n(129),F=n(40),R="TOKEN_BY_LOGIN",L="DB_FAVOURITES_LISTS",C={addUserToken:function(e,t){var n=Object(F.a)({},e,t),a=localStorage.getItem(R),r=a?Object(N.a)(Object(N.a)({},JSON.parse(a)),n):Object(N.a)({},n),c=JSON.stringify(r);localStorage.setItem(R,c)},getLoginByToken:function(e){var t=localStorage.getItem(R);if(!t)return!1;for(var n=JSON.parse(t),a=0,r=Object.entries(n);a<r.length;a++){var c=r[a];if(e===c[1])return c[0]}return!1},getFavouritesList:function(e){var t=localStorage.getItem(L);if(!t)return[];var n=JSON.parse(t);return n[e]?n[e]:[]},favouritesListUpdate:function(e,t){var n=localStorage.getItem(L),a={};n&&(a=Object(N.a)(Object(N.a)({},a),JSON.parse(n))),a=Object(N.a)(Object(N.a)({},a),{},Object(F.a)({},e,t)),localStorage.setItem(L,JSON.stringify(a))},favouritesListAddRecord:function(e,t){var n=C.getFavouritesList(e),a=[].concat(Object(w.a)(n),[t]);C.favouritesListUpdate(e,a)},favouritesListDeleteRecord:function(e,t){var n=C.getFavouritesList(e).filter((function(e){return e.id!==t}));C.favouritesListUpdate(e,n)},favouritesListEditRecord:function(e,t){var n=C.getFavouritesList(e).map((function(e){return e.id===t.id?t:e}));C.favouritesListUpdate(e,n)}},A=T;function V(e){return{success:!0,data:e}}function B(e,t){return{success:!1,message:t}}var M,U=k(0,0),q=function(e){var t=e.login,n=e.password;return new Promise((function(e){setTimeout((function(){if(!A[t])return e(B(M.userNotExist,"user not exist"));if(A[t]!==n)return e(B(M.wrongPassword,"wrong password"));var a=E();C.addUserToken(t,a),e(V(a))}),U)}))},H=function(e){return new Promise((function(t){var n=C.getLoginByToken(e);return t(n?V(C.getFavouritesList(n)):B(M.tokenInvalid,"token is invalid"))}))},P=function(e,t){return new Promise((function(n){var a=C.getLoginByToken(e);if(!a)return n(B(M.tokenInvalid,"token is invalid"));var r=E(),c=Object(N.a)(Object(N.a)({},t),{},{id:r});return C.favouritesListAddRecord(a,c),n(V({id:r}))}))},D=function(e,t){return new Promise((function(n){var a=C.getLoginByToken(e);return a?(C.favouritesListDeleteRecord(a,t),n(V("ok"))):n(B(M.tokenInvalid,"token is invalid"))}))},G=function(e,t){return new Promise((function(n){var a=C.getLoginByToken(e);return a?(C.favouritesListEditRecord(a,t),n(V("ok"))):n(B(M.tokenInvalid,"token is invalid"))}))};!function(e){e[e.userNotExist=1]="userNotExist",e[e.wrongPassword=2]="wrongPassword",e[e.tokenInvalid=3]="tokenInvalid"}(M||(M={}));var J=function(e){return q(e)},Y="token",W=function(e){return localStorage.setItem(Y,e)},K=function(){return localStorage.getItem(Y)},z=function(){return localStorage.removeItem(Y)},Q="CLEAR_ALL_STATES",X="SET_ALERT_MESSAGE",Z="CLEAR_ALERT_MESSAGE",$=function(){return{type:Q}},ee=function(e,t,n){return function(a){n||(n=1.5),a(function(e,t,n){return{type:X,payload:{message:e,type:t,duration:n}}}(e,t,n)),setTimeout((function(){a({type:Z})}),n)}},te="FAVOURITES_FETCHING_START",ne="FAVOURITES_FETCHING_FINISH",ae="FAVOURITES_SET_LIST",re="FAVOURITES_ADD_RECORD",ce="FAVOURITES_DELETE_RECORD",ie=function(e){return H(e)},se=function(e,t){return P(e,t)},oe=function(e,t){return D(e,t)},ue=function(e,t){return G(e,t)},le="FAVOURITES_MODAL_OPEN",de="FAVOURITES_MODAL_CLOSE",je="FAVOURITES_MODAL_FETCHING_START",be="FAVOURITES_MODAL_FETCHING_FINISH",Oe="FAVOURITES_MODAL_FILL_DATA",fe=function(e){return{type:le,payload:{query:e}}},he=function(){return{type:de}},pe=function(e){return function(t,n){var a=n().favourites.items.filter((function(t){return t.id===e})),r=Object(s.a)(a,1)[0];t(function(e,t,n,a){return{type:Oe,payload:{sort:e,name:t,maxCount:n,id:a}}}(r.sort,r.name,r.maxCount,r.id)),t(fe(r.query))}},me=function(){return{type:te}},ve=function(){return{type:ne}},xe=function(e){return{type:re,payload:{record:e}}},_e=function(e){return{type:ce,payload:{id:e}}},ge=function(){return function(){var e=Object(g.a)(_.a.mark((function e(t,n){var a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(me()),a=n().user.token){e.next=4;break}return e.abrupt("return",t($()));case 4:return e.next=6,ie(a);case 6:(r=e.sent).success?t((c=r.data,{type:ae,payload:{favouritesList:c}})):t(ee(r.message,"error")),t(ve());case 9:case"end":return e.stop()}var c}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ye=function(e){return{type:I,payload:{token:e}}},Se=n(8),Ie=function(){var e=Object(p.h)().pathname,t=Object(v.b)(),n=Object(a.useCallback)((function(){t((function(e){z(),e($())}))}),[t]);return Object(Se.jsx)(o.a.Header,{className:f.a.header,children:Object(Se.jsxs)(u.a,{align:"middle",className:"container",children:[Object(Se.jsx)("img",{className:b()("logo",f.a.logo),src:h,alt:"sibdev logo"}),Object(Se.jsxs)(d.a,{className:f.a.menu,theme:"light",mode:"horizontal",selectedKeys:[e],children:[Object(Se.jsx)(d.a.Item,{children:Object(Se.jsx)(m.b,{to:"/search",children:"\u041f\u043e\u0438\u0441\u043a"})},"/search"),Object(Se.jsx)(d.a.Item,{children:Object(Se.jsx)(m.b,{to:"/favourites",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})},"/favourites")]}),Object(Se.jsx)(l.a,{type:"link",onClick:n,className:b()("ant-menu-item",f.a.logout),children:"\u0412\u044b\u0439\u0442\u0438"})]})})},Ne=n(1941),Te=n(1943),Ee=n(1939),ke=n(1942),we=n(1937),Fe=n(1940),Re=n(1945),Le=n(80),Ce=n.n(Le),Ae=n(206),Ve=[{value:"relevance",description:"\u043f\u043e \u0440\u0435\u043b\u0435\u0432\u0430\u043d\u0442\u043d\u043e\u0441\u0442\u0438"},{value:"date",description:"\u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"},{value:"rating",description:"\u043f\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443"},{value:"title",description:"\u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},{value:"viewCount",description:"\u043f\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430\u043c"}].map((function(e){return Object(Se.jsx)(Ne.a.Option,{value:e.value,children:e.description},e.value)})),Be=function(){var e=Object(v.b)(),t=Object(Ae.useForm)(),n=Object(s.a)(t,1)[0],r=Object(v.c)((function(e){return e.favouritesModal})),c=r.query,i=r.isVisible,o=r.maxCount,d=r.isFetching,j=r.name,O=r.sort,f=r.recordId,h=Object(a.useState)(12),p=Object(s.a)(h,2),m=p[0],x=p[1];Object(a.useEffect)((function(){i&&n.resetFields()}),[n,i]),Object(a.useEffect)((function(){x(o)}),[o]);var y=Object(a.useCallback)((function(e){isNaN(e)||x(e)}),[]),S=Object(a.useCallback)((function(){e(he())}),[e]),I=Object(a.useCallback)((function(t){var n;e(f?(n=Object(N.a)(Object(N.a)({},t),{},{maxCount:m,id:f}),function(){var e=Object(g.a)(_.a.mark((function e(t,a){var r,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(me()),r=a().user.token){e.next=4;break}return e.abrupt("return",t($()));case 4:return e.next=6,ue(r,n);case 6:if(!(c=e.sent).success){e.next=12;break}return t(he()),e.abrupt("return",t(ge()));case 12:t(ee(c.message,"error"));case 13:t(ve());case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(g.a)(_.a.mark((function t(n,a){var r,c,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n({type:je}),n(me()),r=a().user.token){t.next=5;break}return t.abrupt("return",n($()));case 5:return t.next=7,se(r,e);case 7:(c=t.sent).success?(i=Object(N.a)(Object(N.a)({},e),{},{id:c.data.id}),n(xe(i))):n(ee(c.message,"error")),n({type:be}),n(ve()),n(he()),n(ee("\u0437\u0430\u043f\u0438\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430","success"));case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}(Object(N.a)(Object(N.a)({},t),{},{maxCount:m})))}),[e,m,f]),T={maxCount:o||12,name:j||"",query:c||"",sort:O||""};return Object(Se.jsxs)(Te.a,{visible:i,centered:!0,closable:!1,footer:null,getContainer:!1,children:[Object(Se.jsx)(u.a,{className:Ce.a.titleBox,justify:"center",children:Object(Se.jsx)("h1",{className:Ce.a.title,children:f?"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441"})}),Object(Se.jsxs)(Ee.a,{layout:"vertical",onFinish:I,form:n,initialValues:T,children:[Object(Se.jsx)(Ee.a.Item,{label:"\u0417\u0430\u043f\u0440\u043e\u0441",name:"query",className:b()(Object(F.a)({},Ce.a.labelMuted,f)),rules:[{required:!0,message:"\u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u044b\u043c!"}],required:!1,children:Object(Se.jsx)(ke.a,{disabled:!Boolean(f)||d})}),Object(Se.jsx)(Ee.a.Item,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"name",rules:[{required:!0,message:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"}],children:Object(Se.jsx)(ke.a,{placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",disabled:d})}),Object(Se.jsx)(Ee.a.Item,{name:"sort",label:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e",children:Object(Se.jsxs)(Ne.a,{className:"select",disabled:d,children:[Object(Se.jsx)(Ne.a.Option,{className:Ce.a.firstSelectOption,value:"",children:"\u0411\u0435\u0437 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438"}),Ve]})}),Object(Se.jsx)(Ee.a.Item,{label:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",name:"maxCount",children:Object(Se.jsxs)(u.a,{align:"middle",children:[Object(Se.jsx)(we.a,{flex:"auto",children:Object(Se.jsx)(Fe.a,{value:m,onChange:y,min:0,max:50,disabled:d})}),Object(Se.jsx)(we.a,{flex:"100px",children:Object(Se.jsx)(Re.a,{value:m,onChange:function(e){return y(Number(e))},min:0,max:50,disabled:d})})]})}),Object(Se.jsxs)(u.a,{justify:"space-between",children:[Object(Se.jsx)(Ee.a.Item,{children:Object(Se.jsx)(l.a,{className:Ce.a.btn,disabled:d,onClick:S,htmlType:"button",children:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c"})}),Object(Se.jsx)(Ee.a.Item,{children:Object(Se.jsx)(l.a,{className:Ce.a.btn,loading:d,type:"primary",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]})]})},Me="search",Ue="login",qe="YouTube App",He=function(){var e=Object(v.c)((function(e){return e.user.token}));return[Object(a.useCallback)((function(){return e||K()}),[e])()]},Pe=o.a.Content,De=function(e){var t=e.children,n=He();return Object(s.a)(n,1)[0]?Object(Se.jsxs)(o.a,{children:[Object(Se.jsx)(Ie,{}),Object(Se.jsxs)(Pe,{children:[Object(Se.jsx)("div",{className:"container",children:t}),Object(Se.jsx)(Be,{})]})]}):Object(Se.jsx)(p.a,{to:"/".concat(Ue)})},Ge=n(95),Je=n.n(Ge),Ye=n(209),We=n.n(Ye),Ke="LOGIN",ze="PASSWORD",Qe=[{required:!0,whitespace:!0,message:"\u043f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},{max:20,message:"\u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0434\u043b\u0438\u043d\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}],Xe=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.user.isFetching})),n=Object(a.useCallback)((function(t){var n;e((n={login:t.LOGIN,password:t.PASSWORD},function(){var e=Object(g.a)(_.a.mark((function e(t){var a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:y}),e.next=3,J(n);case 3:(a=e.sent).success?(r=a.data,W(r),t(ye(r)),t(ge())):t(ee(a.message,"error")),t({type:S});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e]);return Object(Se.jsxs)(Ee.a,{onFinish:n,layout:"vertical",requiredMark:!1,children:[Object(Se.jsx)(Ee.a.Item,{name:Ke,rules:Qe,label:"\u041b\u043e\u0433\u0438\u043d",className:"label-muted",children:Object(Se.jsx)(ke.a,{disabled:t})}),Object(Se.jsx)(Ee.a.Item,{name:ze,rules:Qe,label:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"label-muted",children:Object(Se.jsx)(ke.a.Password,{disabled:t})}),Object(Se.jsx)(u.a,{className:We.a.btnBox,justify:"center",children:Object(Se.jsx)(Ee.a.Item,{children:Object(Se.jsx)(l.a,{loading:t,type:"primary",htmlType:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})},Ze={xxl:7,xl:9,lg:12,md:16,sm:20,xs:22},$e={sm:15,xs:18},et=function(){Object(a.useEffect)((function(){document.title="".concat(qe," - \u0432\u0445\u043e\u0434")}),[]);var e=He();return Object(s.a)(e,1)[0]?Object(Se.jsx)(p.a,{to:"/"}):Object(Se.jsx)(u.a,{justify:"center",align:"middle",style:{height:"100vh"},children:Object(Se.jsxs)(we.a,Object(N.a)(Object(N.a)({className:Je.a.container},Ze),{},{children:[Object(Se.jsx)(u.a,{justify:"center",children:Object(Se.jsx)("img",{className:Je.a.logo,src:h,alt:"sibDev-logo"})}),Object(Se.jsx)(u.a,{className:Je.a.titleBox,justify:"center",children:Object(Se.jsx)("h1",{className:Je.a.title,children:"\u0412\u0445\u043e\u0434"})}),Object(Se.jsx)(u.a,{className:Je.a.formBox,justify:"center",children:Object(Se.jsx)(we.a,Object(N.a)(Object(N.a)({},$e),{},{children:Object(Se.jsx)(Xe,{})}))})]}))})},tt=n(217),nt=n(1938),at=n(79),rt=n.n(at),ct=function(e){var t=e.name,n=e.onDelete,r=e.onEdit,c=e.onClick,i=Object(a.useRef)(null);return Object(Se.jsxs)("li",{ref:i,onClick:function(e){e.target===i.current&&c()},className:rt.a.listItem,children:[t,Object(Se.jsxs)("span",{className:rt.a.buttons,children:[Object(Se.jsx)(l.a,{onClick:r,type:"link",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(Se.jsx)(l.a,{onClick:n,type:"link",danger:!0,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},it=function(){Object(a.useEffect)((function(){document.title="".concat(qe," - \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435")}),[]);var e=Object(v.b)(),t=Object(p.g)(),n=Object(v.c)((function(e){return e.favourites.items})),r=Object(v.c)((function(e){return e.favourites.isFetching})),c=n.map((function(n){return Object(Se.jsx)(ct,{onClick:function(){return t.push("/search?q=".concat(n.query,"&sort=").concat(n.sort,"&maxCount=").concat(n.maxCount))},onEdit:function(){return e(pe(n.id))},onDelete:function(){return e((t=n.id,function(){var e=Object(g.a)(_.a.mark((function e(n,a){var r,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(me()),r=a().user.token){e.next=4;break}return e.abrupt("return",n($()));case 4:return e.next=6,oe(r,t);case 6:(c=e.sent).success?n(_e(t)):n(ee(c.message,"error")),n(ve());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));var t},name:n.name},n.id)}));return Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(u.a,{className:rt.a.titleBox,children:Object(Se.jsx)("h1",{className:rt.a.title,children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})}),Object(Se.jsx)(nt.a,{spinning:r,tip:"Loading...",children:Object(Se.jsxs)("ul",{className:rt.a.list,children:[0===n.length?Object(Se.jsx)(u.a,{justify:"center",children:"\u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0443\u0441\u0442 :("}):null,c]})})]})},st=n(1946),ot=n(94),ut=n(155),lt=n.n(ut),dt="#1390E5",jt=Object(Se.jsxs)("div",{className:lt.a.popoverBox,children:[Object(Se.jsx)("div",{className:lt.a.popoverText,children:"\u041f\u043e\u0438\u0441\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \xab\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435\xbb"}),Object(Se.jsx)(m.b,{to:"/favourites",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]}),bt=function(){var e=Object(p.g)(),t=Object(v.b)(),n=Object(v.c)((function(e){return e.search.isFetching})),r=Object(v.c)((function(e){return e.search.query})),c=Object(v.c)((function(e){return e.search.isReadyToShow})),i=Object(v.c)((function(e){return e.favourites.isSavedMessageVisible})),o=Object(a.useState)(""),u=Object(s.a)(o,2),l=u[0],d=u[1];Object(a.useEffect)((function(){r&&d(r)}),[r]);var j=Object(a.useCallback)((function(){e.push("/search?q=".concat(l))}),[e,l]),b=Object(a.useCallback)((function(e){d(e.target.value)}),[]),O=Object(a.useCallback)((function(){r&&t(fe(r))}),[r,t]),f=Object(Se.jsx)(st.a,{content:jt,visible:i,placement:"bottom",children:i?Object(Se.jsx)(ot.HeartTwoTone,{style:{color:dt}}):c?Object(Se.jsx)(ot.HeartOutlined,{onClick:O,style:{color:dt}}):null});return Object(Se.jsx)(ke.a.Search,{value:l,onChange:b,placeholder:"\u0427\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c?",enterButton:"\u041d\u0430\u0439\u0442\u0438",suffix:f,onSearch:j,loading:n,required:!0})},Ot=n(60),ft=n.n(Ot),ht=n(72),pt=n.n(ht),mt=function(e){var t=e.views,n=e.channelName,a=e.title,r=e.previewURL,c="card"===e.viewMode;return c&&a.length>=60&&(a=a.substr(0,57)+"..."),Object(Se.jsxs)("div",{className:b()(pt.a.container,"ant-card-hoverable",Object(F.a)({},pt.a.card,c)),children:[Object(Se.jsx)("img",{className:pt.a.preview,src:r,alt:a}),Object(Se.jsxs)("div",{className:pt.a.body,children:[Object(Se.jsx)("div",{className:pt.a.title,children:a}),Object(Se.jsxs)("div",{children:[Object(Se.jsx)("div",{className:pt.a.channelName,children:n}),Object(Se.jsxs)("div",{className:pt.a.views,children:[t," \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432"]})]})]})]})},vt=function(){var e=function(){var e=localStorage.getItem("viewMode");return!(!e||"list"!==e&&"card"!==e)&&e}(),t=Object(a.useState)(e||"card"),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(v.c)((function(e){return e.search.videos})),o=Object(v.c)((function(e){return e.search.query})),d=Object(v.c)((function(e){return e.search.totalResults}));Object(a.useEffect)((function(){localStorage.setItem("viewMode",r)}),[r]);var j=null===i||void 0===i?void 0:i.map((function(e){var t=e.views,n=String(t);return t>=1e3&&t<1e6&&(n=n.substr(0,n.length-3)+" \u0442\u044b\u0441."),t>=1e6&&(n=n.substr(0,n.length-6)+" \u043c\u043b\u043d."),Object(Se.jsx)(we.a,{children:Object(Se.jsx)(mt,{viewMode:r,title:e.snippet.title,views:n,channelName:e.snippet.channelTitle,previewURL:e.snippet.thumbnails.medium.url})},e.id.videoId)}));return Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsxs)(u.a,{align:"middle",justify:"space-between",children:[Object(Se.jsxs)(we.a,{children:[Object(Se.jsxs)("span",{className:ft.a.listTitle,children:["\u0412\u0438\u0434\u0435\u043e \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ",Object(Se.jsxs)("strong",{children:["\xab",o,"\xbb"]})]}),Object(Se.jsx)("span",{className:ft.a.count,children:d})]}),Object(Se.jsxs)(we.a,{children:[Object(Se.jsx)(l.a,{onClick:function(){return c("list")},className:ft.a.btn,type:"link",children:Object(Se.jsx)(ot.UnorderedListOutlined,{className:b()(ft.a.viewSelectorIcon,Object(F.a)({},ft.a.viewSelectorIcon_selected,"list"===r))})}),Object(Se.jsx)(l.a,{onClick:function(){return c("card")},className:ft.a.btn,type:"link",children:Object(Se.jsx)(ot.AppstoreOutlined,{className:b()(ft.a.viewSelectorIcon,Object(F.a)({},ft.a.viewSelectorIcon_selected,"card"===r))})})]})]}),Object(Se.jsx)(u.a,{gutter:[20,32],children:j})]})},xt="SEARCH_FETCHING_START",_t="SEARCH_FETCHING_FINISH",gt="SEARCH_SET_VIDEOS",yt="SEARCH_SET_QUERY",St="SEARCH_SET_TOTAL_RESULTS",It="SEARCH_SET_READY_TO_SHOW",Nt=n(211),Tt="AIzaSyD4oqFUtrWe9IFK0dnrOrhLTGwYeVjt2eM",Et=n.n(Nt).a.create({baseURL:"https://youtube.googleapis.com/youtube/v3/"}),kt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e=encodeURIComponent(e);var a="&part=snippet&key=".concat(Tt,"&q=").concat(e,"&maxResults=").concat(t,"&type=video");return n&&(a+="&order=".concat(n)),Et.get("/search?channelType=any".concat(a)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},wt=function(e){return Et.get("/videos?id=".concat(e,"&part=statistics&key=").concat(Tt)).then((function(e){return e.data})).catch((function(e){return e.response.data}))},Ft=function(){return{type:_t}},Rt=function(e){return{type:yt,payload:{query:e}}},Lt=n(106),Ct=n.n(Lt),At=function(){var e=Object(v.b)(),t=new URLSearchParams(Object(p.h)().search),n=t.get("q"),r=t.get("sort")||"",c=Number(t.get("maxCount"))||12,i=Object(v.c)((function(e){return e.search.isReadyToShow}));Object(a.useEffect)((function(){document.title=n?"".concat(qe," - \u043f\u043e\u0438\u0441\u043a: ").concat(n):"".concat(qe," - \u041f\u043e\u0438\u0441\u043a")}),[n]),Object(a.useEffect)((function(){var t,a,i;n&&e((t=n,a=c,i=r,function(){var e=Object(g.a)(_.a.mark((function e(n){var r,c,o,u,l;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return n(Ft()),n(ee(e,"error"))},n({type:xt}),n(Rt(t)),e.next=5,kt(t,a,i);case 5:if(!(c=e.sent).error){e.next=8;break}return e.abrupt("return",r(c.error.message));case 8:return o=c.items.map((function(e){return e.id.videoId})),e.next=11,wt(o);case 11:if(!(u=e.sent).error){e.next=14;break}return e.abrupt("return",r(u.error.message));case 14:l=c.items.map((function(e){e.snippet.title=e.snippet.title.replaceAll("&amp;","&"),e.snippet.channelTitle=e.snippet.channelTitle.replaceAll("&amp;","&");var t=e.id.videoId,n=u.items.filter((function(e){return e.id===t})),a=Object(s.a)(n,1)[0];return Object(N.a)(Object(N.a)({},e),{},{views:Number(a.statistics.viewCount)})})),n((d=c.pageInfo.totalResults,{type:St,payload:{totalResults:d}})),n({type:gt,payload:{videos:l}}),n({type:It}),n(Ft());case 19:case"end":return e.stop()}var d}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[n,e,c,r]);var o=i?24:12;return Object(Se.jsxs)(Se.Fragment,{children:[Object(Se.jsx)(u.a,{className:b()(Ct.a.controlBox,Object(F.a)({},Ct.a.minified,i)),justify:"center",align:"middle",children:Object(Se.jsxs)(we.a,{span:o,children:[Object(Se.jsx)(u.a,{className:Ct.a.titleBox,justify:"center",children:Object(Se.jsx)("h1",{className:Ct.a.title,children:"\u041f\u043e\u0438\u0441\u043a \u0432\u0438\u0434\u0435\u043e"})}),Object(Se.jsx)(u.a,{justify:"center",children:Object(Se.jsx)(bt,{})})]})}),i&&Object(Se.jsx)(vt,{})]})},Vt=function(){var e=Object(v.b)();return Object(a.useEffect)((function(){e((function(e){var t=K();t&&(e(ye(t)),e(ge()))}))}),[e]),function(){var e=Object(v.c)((function(e){return e.alert.message})),t=Object(v.c)((function(e){return e.alert.type})),n=Object(v.c)((function(e){return e.alert.duration}));Object(a.useEffect)((function(){t&&n&&e&&tt.b[t](e,n)}),[n,e,t])}(),console.log("updated 4"),Object(Se.jsx)(m.a,{basename:"".concat("https://masawik.github.io/sibdev-youtube-app/"),children:Object(Se.jsx)(r.a.Fragment,{children:Object(Se.jsxs)(p.d,{children:[Object(Se.jsx)(p.b,{path:"/".concat(Ue),children:Object(Se.jsx)(et,{})}),Object(Se.jsx)(De,{children:Object(Se.jsxs)(p.d,{children:[Object(Se.jsx)(p.b,{path:"/".concat("favourites"),children:Object(Se.jsx)(it,{})}),Object(Se.jsx)(p.b,{path:"/".concat(Me),children:Object(Se.jsx)(At,{})}),Object(Se.jsx)(p.b,{children:Object(Se.jsx)(p.a,{to:"/".concat(Me)})})]})})]})})})},Bt=n(63),Mt=n(212),Ut=n(213),qt={isFetching:!1,token:null},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return qt;case y:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0});case S:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1});case I:return Object(N.a)(Object(N.a)({},e),{},{token:t.payload.token});default:return e}},Pt={isFetching:!1,query:null,totalResults:null,videos:null,isReadyToShow:!1,errorMessage:null},Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt:return Object(N.a)(Object(N.a)({},Pt),{},{isFetching:!0,isReadyToShow:e.isReadyToShow});case Q:return Pt;case yt:return Object(N.a)(Object(N.a)({},e),{},{query:t.payload.query});case It:return Object(N.a)(Object(N.a)({},e),{},{isReadyToShow:!0});case St:return Object(N.a)(Object(N.a)({},e),{},{totalResults:t.payload.totalResults});case _t:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1});case gt:return Object(N.a)(Object(N.a)({},e),{},{videos:t.payload.videos});default:return e}},Gt={message:null,type:null,duration:null},Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{message:t.payload.message,type:t.payload.type,duration:t.payload.duration};case Z:case Q:return Gt;default:return e}},Yt={isFetching:!1,items:[],isSavedMessageVisible:!1},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Yt;case te:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0});case ne:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1});case ae:return Object(N.a)(Object(N.a)({},e),{},{items:t.payload.favouritesList});case re:return Object(N.a)(Object(N.a)({},e),{},{items:[].concat(Object(w.a)(e.items),[t.payload.record]),isSavedMessageVisible:!0});case ce:var n=e.items.filter((function(e){return e.id!==t.payload.id}));return Object(N.a)(Object(N.a)({},e),{},{items:n});case xt:return Object(N.a)(Object(N.a)({},e),{},{isSavedMessageVisible:!1});default:return e}},Kt={isFetching:!1,isVisible:!1,recordId:null,query:null,name:null,sort:"",maxCount:12},zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Kt;case je:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!0});case be:return Object(N.a)(Object(N.a)({},e),{},{isFetching:!1});case le:return Object(N.a)(Object(N.a)({},e),{},{isVisible:!0,query:t.payload.query});case de:return Kt;case Oe:var n=t.payload,a=n.maxCount,r=n.name,c=n.sort,i=n.id;return Object(N.a)(Object(N.a)({},e),{},{maxCount:a,name:r,sort:c,recordId:i});default:return e}},Qt=Object(Bt.combineReducers)({user:Ht,search:Dt,alert:Jt,favourites:Wt,favouritesModal:zt}),Xt=Object(Bt.createStore)(Qt,Object(Ut.composeWithDevTools)(Object(Bt.applyMiddleware)(Mt.a))),Zt=Object(Se.jsx)(v.a,{store:Xt,children:Object(Se.jsx)(Vt,{})});i.a.render(Zt,document.getElementById("root"))},202:function(e){e.exports=JSON.parse('{"root":"toor","test":"test"}')},209:function(e,t,n){e.exports={btnBox:"LoginForm_btnBox__1rH4o"}},226:function(e,t,n){},227:function(e,t,n){},60:function(e,t,n){e.exports={listTitle:"VideoList_listTitle__1Ylc1",count:"VideoList_count__WOcRG",btn:"VideoList_btn__2jeC9",viewSelectorIcon:"VideoList_viewSelectorIcon__3mtJf",viewSelectorIcon_selected:"VideoList_viewSelectorIcon_selected__apM58"}},72:function(e,t,n){e.exports={card:"VideoItem_card__2hI_Y",preview:"VideoItem_preview__2CqCL",body:"VideoItem_body__1GaRX",title:"VideoItem_title__3iPxr",container:"VideoItem_container__1MaRF",channelName:"VideoItem_channelName__45hni",views:"VideoItem_views__kbyzL"}},79:function(e,t,n){e.exports={titleBox:"Favourites_titleBox__1Ynjh",title:"Favourites_title__2S2VF",list:"Favourites_list__2bKSR",listItem:"Favourites_listItem__vNVdk",buttons:"Favourites_buttons__vkA_N"}},80:function(e,t,n){e.exports={titleBox:"FavouriteModal_titleBox__3P0Rj",title:"FavouriteModal_title__34fvv",btn:"FavouriteModal_btn__20ViI",firstSelectOption:"FavouriteModal_firstSelectOption__2x63A",labelMuted:"FavouriteModal_labelMuted__2Qynj"}},95:function(e,t,n){e.exports={container:"LoginPage_container__3bocI",titleBox:"LoginPage_titleBox__35oY9",title:"LoginPage_title__v_JCg",formBox:"LoginPage_formBox__3V-pN",logo:"LoginPage_logo__2w5_s"}}},[[1933,1,2]]]);
//# sourceMappingURL=main.db09ddd9.chunk.js.map